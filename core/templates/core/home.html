{% extends 'core/base.html' %}
{% load static %}
{% block content %}
<main class="p-5 flex-1">
  <h1 class="text-3xl font-sans font-bold from-sky-800 mb-3">Alunos</h1>
  <form action="sla" method="get" class="flex items-stretch justify-between">
    <div
      class="flex gap-3 relative"
      x-data="{ input: '', clear() { this.input = '' } }"
    >
      <label for="slField" class="text-xl font-medium">Procurar por:</label>
      <select name="query_field" id="slField">
        <option value="name" selected>Nome</option>
        <option value="email">Email ETEC</option>
        <option value="email">Email pessoal</option>
        <option value="parent">Nome do Pai/Mãe</option>
        <option value="class">Classe</option>
        <option value="grade">Série</option>
        <option value="rm">RM</option>
        <option value="custom">Customizado</option>
      </select>
      <input
        type="search"
        name="query"
        id="searchQuery"
        x-model:="input"
      />
      <button
        class="absolute right-2 top-2 transition-all"
        :class="input || 'scale-0'"
        @click.prevent="clear()"
      >
        <box-icon name="x-circle" color="gray" />
      </button>
    </div>
    <a
      href="{% url 'enroll' %}"
      class="bg-cyan-700 rounded text-slate-50 py-2 px-3 
      flex items-center transition-all duration-300 
      hover:shadow-md hover:bg-cyan-800"
    >
      <span class="font-semibold mr-1">Matricular</span>
      <box-icon name="user-plus" color="white" />
    </a>
  </form>

  <table class="table-auto mt-4">
    <thead class="bg-slate-300 dark:bg-slate-700">
      <tr>
        <td>RM</td>
        <td>Nome</td>
        <td>Nascimento</td>
        <td>Gênero</td>
        <td>E-mail</td>
        <td>Telefone</td>
      </tr>
    </thead>
    {% for user in users %}
    <tr>
      <td>{{ user.rm }}</td>
      <td>{{ user.username }}</td>
      <td>{{ user.birthdate|date:'d/m/Y' }}</td>
      <td>{{ user.gender }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.phone }}</td>
    </tr>
    {% endfor %}
  </table>
</main>
{% endblock content %}
